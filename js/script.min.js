var link=document.querySelector(".form-link"),modalWrapper=document.querySelector(".modal-wrapper"),modalLogin=modalWrapper.querySelector(".modal-login"),modalClose=modalWrapper.querySelector(".modal-close-btn"),formFeedback=modalLogin.querySelector("form"),nameFeedback=formFeedback.querySelector("[name=name]"),emailFeedback=formFeedback.querySelector("[name=email]"),messageFeedback=formFeedback.querySelector("[name=message]"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),modalWrapper.classList.add("modal-show"),modalLogin.classList.add("modal-bounce"),storageName&&(nameFeedback.value=storageName,emailFeedback.focus()),storageEmail?(emailFeedback.value=storageEmail,messageFeedback.focus()):nameFeedback.focus()}),modalClose.addEventListener("click",function(){modalWrapper.classList.remove("modal-show"),modalLogin.classList.remove("modal-bounce"),modalLogin.classList.remove("modal-error")}),formFeedback.addEventListener("submit",function(e){nameFeedback.value&&emailFeedback.value?isStorageSupport&&(localStorage.setItem("name",nameFeedback.value),localStorage.setItem("email",emailFeedback.value)):(e.preventDefault(),modalLogin.classList.remove("modal-error"),modalLogin.offsetWidth=modalLogin.offsetWidth,modalLogin.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27==e.keyCode&&modalWrapper.classList.contains("modal-show")&&(console.log(e.keyCode),e.preventDefault(),modalWrapper.classList.remove("modal-show"),modalLogin.classList.remove("modal-bounce"),modalLogin.classList.remove("modal-error"))});